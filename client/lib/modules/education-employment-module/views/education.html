{% extends "layout.html" %}

{% block extraBody %}
<script src="/modules/education-employment-module/js/labels.js"></script>
<script src="/modules/education-employment-module/js/education.js"></script>
{% endblock %}
{% block main %}
<div id="education-form">
    {% raw %}
    <div class="py-4 main-min-height">
        <div class="secondary-content-area col-md-6 col-sm-11 col-11 col-lg-6 col-xl-6 mx-auto">
            <!-- Loader start -->
            <div class="overlay" id="loaderEduc">
                <div class="overlay__inner">
                    <div class="overlay__content">
                        <div class="lds-spinner">
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                            <div></div>
                        </div>
                    </div>
                </div>
            </div>
            <!-- Loader end -->

            <div class="py-2" v-cloak>

                <!-- About Your Self Start-->
                <form id="position-form" data-options="position">
                    <div class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.postionLabel}}</p>
                        <div class="custom-form-group pt-3 pb-1 m-0" v-for="(item, index) in yourAreIn" :key="index">
                            <div class="row m-0 align-items-center">
                                <div>
                                    <input type="checkbox" v-bind:id="item.id" name="currentPosition"
                                        v-bind:value="item.value" v-model="aboutYourSelf"
                                        @change="onOptionChange($event)">
                                    <label v-bind:for="item.id" class="option-font d-flex align-items-center">
                                    </label>
                                </div>
                                <div class="set-width-calc">
                                    <label class="text-label-hide option-font" v-bind:for="item.id">
                                        {{ item.value }}
                                    </label>
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <!-- About Your Self End-->

                <!-- Which school / college / university / do you attend? Start  -->
                <form id="attended-form" data-options="attendedInfo">
                    <div v-show="showInstitution" class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group mb-2" id="c4238c48-4dd6-405c-b3d9-cda7f17bdcb8">
                            <label for="attendedLocation" class="question-font mb-2">School/college/university name and
                                address (Please make sure you include the
                                institution name)</label>
                            <!-- <label class="font-weight-bold question-font mb-2"></label> -->
                            <div class="input-group">
                                <input type="text" class="form-control input-bg-form-control" inputmode="search"
                                    placeholder="Start typing to search"
                                    @input="trimWhiteSpace($event,'educAndEmpData','attendedInfo')"
                                    id="attendedLocation" aria-label="location" name="educationLocation"
                                    v-model="educAndEmpData.attendedInfo">
                                <div class="input-group-append">
                                    <span class="input-group-text p-16">
                                        <i class="fa common-fa-fa fa-map-marker fa-2x" aria-hidden="true"></i>
                                    </span>
                                </div>
                                <div class="invalid-feedback d-none"
                                    v-bind:class="{ 'd-block': (isFormSubmitted && (!educAndEmpData.attendedInfo && !educationManualAddressData.length)),'invalid-fields': (!educAndEmpData.attendedInfo && !educationManualAddressData.length) }">
                                    You must provide a address.
                                </div>
                                <div class="invalid-feedback d-none"
                                    v-bind:class="{ 'd-block': (isFormSubmitted && (educAndEmpData.attendedInfo && !isGoogleAddressSelected)),'invalid-fields': (educAndEmpData.attendedInfo && !isGoogleAddressSelected) }">
                                    You must provide a valid address.
                                </div>
                            </div>
                        </div>
                        <p class="link-text text-right mb-0 mt-2 cursor-pointer"
                            id="2df66d79-a41a-4c4e-acee-171c39fe26f5" @click="getManualAddress()"><u>Enter
                                manually</u></p>
                    </div>
                </form>
                <!-- Which school / college / university / do you attend? End  -->

                <!-- show manual address template logic ui start-->
                <div v-if="checkArrayLength(educationManualAddressData)">
                    <div class="px-4 py-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <label class="question-font">Manual address</label>
                        <div class="card text-left mb-2" v-for="(item, index) in educationManualAddressData"
                            :key="index">
                            <div class="card-body text-capitalize bg-set-on-card">
                                <div class="d-flex align-items-center justify-content-between my-1">
                                    <h3 class="link-text">{{item.school}}</h3>
                                    <div class="d-flex">
                                        <span class="badge badge-pill cursor-pointer" data-toggle="modal"
                                            data-target="#educationModal" @click="patchAddress(item)">
                                            <i class="fa fa-pencil fa-2x" aria-hidden="true">
                                            </i>
                                        </span>
                                        <span class="badge badge-pill cursor-pointer"><i data-toggle="modal"
                                                data-target="#deleteAddressSect3Modal" class="fa fa-trash-o fa-2x"
                                                aria-hidden="true"></i>
                                        </span>
                                    </div>
                                </div>
                                <h3 class="link-text">{{item.addressLine1}}</h3>
                                <h3 class="link-text">{{item.addressLine2}}</h3>
                                <h3 class="link-text">{{item.city}}</h3>
                                <h3 class="link-text">{{item.country}}</h3>
                                <h3 class="link-text">{{item.postCode}}</h3>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- show manual address template logic ui end -->

                <!-- Delete Address confirmation Modal Start -->
                <div class="modal fade" id="deleteAddressSect3Modal" tabindex="-1" role="dialog"
                    aria-labelledby="deleteAddresModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content modal-bg">
                            <div class="modal-header justify-content-center">
                                <h5 class="question-header-font">Delete address</h5>
                                <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close"><i
                                        class="fal fa-times fa-2x cursor-pointer"></i></i>
                            </div>
                            <div class="modal-body py-1 px-4">
                                <h5 class="support-modal-header-text text-center">Are you
                                    sure want to
                                    delete this address?</h5>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn px-md-4 w-25" data-dismiss="modal">
                                    <span class="btn-modal-text">No
                                    </span>
                                </button>
                                <button type="submit" class="btn px-md-4 w-25" @click="deleteSect3ManualAddress()">
                                    <span class="btn-modal-text">Yes
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Delete Address confirmation Modal Start -->

                <!-- Education or HealthCare Plan Start-->
                <form id="EHCP-form" data-options="haveEhcpPlan">
                    <div v-show="aboutYourSelf.length" class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="d-flex align-items-start">
                            <p class="question-font m-0">
                                {{dynamicLabels.ehcpPlanLabel}}</p>
                            <img src="/modules/my-apostrophe-assets/img/5.svg" class="info-icon"
                                data-toggle="modal" data-target="#ehcpModal" alt="">
                        </div>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" id="planNo" value="No" name="EHCP"
                                v-model="educAndEmpData.haveEhcpPlan" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="planNo">
                                No
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" name="EHCP" id="planYes" value="Yes"
                                v-model="educAndEmpData.haveEhcpPlan" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="planYes">
                                Yes
                            </label>
                        </div>
                        <!-- <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" name="EHCP" id="planUnsure" value="unsure"
                                v-model="educAndEmpData.haveEhcpPlan" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="planUnsure">
                                Unsure
                            </label>
                        </div> -->
                    </div>
                </form>
                <!-- Education or HealthCare Plan End-->

                <!-- Early Help Assessment Tool Start-->
                <form id="EHAT-form" data-options="haveEhat">
                    <div v-show="educAndEmpData.haveEhcpPlan =='No' || educAndEmpData.haveEhcpPlan =='Yes'"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="d-flex align-items-start">
                            <p class="question-font m-0">{{dynamicLabels.ehatToolLabel}}</p>
                            <img src="/modules/my-apostrophe-assets/img/5.svg" class="info-icon"
                                data-toggle="modal" data-target="#eHatModal" alt="">
                        </div>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" id="assessmentNo" value="No" name="EHAT"
                                v-model="educAndEmpData.haveEhat" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="assessmentNo">
                                No
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" name="EHAT" id="assessmentYes" value="Yes"
                                v-model="educAndEmpData.haveEhat" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="assessmentYes">
                                Yes
                            </label>
                        </div>
                        <!-- <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" name="EHAT" id="assessmentToolUnsure"
                                value="unsure" v-model="educAndEmpData.haveEhat" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center"
                                for="assessmentToolUnsure">
                                Unsure
                            </label>
                        </div> -->
                    </div>
                </form>
                <!-- Early Help Assessment Tool End-->

                <!-- Have a Social Worker Start-->
                <form id="isSocialWorker-form" data-options="haveSocialWorker">
                    <div v-show="educAndEmpData.haveEhat =='No' || educAndEmpData.haveEhat =='Yes'"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.isSocialWorkerLabel}}</p>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" id="workerNo" value="no" name="SocialWorker"
                                v-model="educAndEmpData.haveSocialWorker" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="workerNo">
                                No
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" name="isSocialWorker" id="workerYes"
                                value="yes" v-model="educAndEmpData.haveSocialWorker" @change="onOptionChange($event)">
                            <label class="form-check-label option-font d-flex align-items-center" for="workerYes">
                                Yes
                            </label>
                        </div>
                    </div>
                </form>
                <!-- Have a Social Worker Start-->

                <!-- Social Worker First Name Form Start -->
                <form id="socialWorkerFName-info" data-options="socialWorkName">
                    <div v-show="educAndEmpData.haveSocialWorker =='yes'"
                        class="px-4 pt-4 pb-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group m-0">
                            <label for="socialWorkerFirst" class="question-font">{{dynamicLabels.socialWorkerNameLabel}}
                                (if
                                you know it)</label>
                            <div class="input-group">
                                <input type="text" class="form-control input-bg-form-control" id="socialWorkerFirst"
                                    @input="trimWhiteSpace($event,'educAndEmpData','socialWorkName')"
                                    placeholder="Enter social worker's first name"
                                    v-model="educAndEmpData.socialWorkName">
                                <div class="input-group-append ">
                                    <span class="input-group-text px-3 font-23">
                                        <i class="fa common-fa-fa fa-user-circle" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                            <!-- <div class="invalid-feedback d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && !educAndEmpData.socialWorkName),'invalid-fields':!educAndEmpData.socialWorkName }">
                                You must provide a name.
                            </div> -->
                        </div>
                    </div>
                </form>
                <!-- Social Worker Fast Name Form End -->

                <!-- Social Worker Last Name Form Start -->
                <form id="socialWorkerLName-info" data-options="socialWorkLastName">
                    <div v-show="educAndEmpData.haveSocialWorker =='yes'"
                        class="px-4 pt-4 pb-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group m-0">
                            <label for="socialWorkerLast"
                                class="question-font">{{dynamicLabels.socialWorkerLastNameLabel}}
                                (if
                                you know it)</label>
                            <div class="input-group">
                                <input type="text" class="form-control input-bg-form-control" id="socialWorkerLast"
                                    @input="trimWhiteSpace($event,'educAndEmpData','socialWorkName')"
                                    placeholder="Enter social worker's last name"
                                    v-model="educAndEmpData.socialWorkLastName">
                                <div class="input-group-append ">
                                    <span class="input-group-text px-3 font-23">
                                        <i class="fa common-fa-fa fa-user-circle" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>
                            <!-- <div class="invalid-feedback d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && !educAndEmpData.socialWorkName),'invalid-fields':!educAndEmpData.socialWorkName }">
                                You must provide a name.
                            </div> -->
                        </div>
                    </div>
                </form>
                <!-- Social Worker Last Name Form End -->

                <!-- Social Worker Contact Start -->
                <form id="socialWorkerContact-info" data-options="socialWorkContact">
                    <div v-show="educAndEmpData.haveSocialWorker =='yes'"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group">
                            <label for="contactWorker" class="question-font">{{dynamicLabels.socialWorkerContactLabel}}
                                (if you know it)</label>
                            <div class="input-group">
                                <div class="input-group-prepend cursor-pointer">
                                    <span class="plain-select custom-mobile-place">
                                        <select v-model="socialWorkContactType"
                                            @change="selectContactTypeProfessional(socialWorkContactType)"
                                            class="custom-select form-control input-bg-form-control">
                                            <option selected="selected" value="mobile">Mobile</option>
                                            <option value="landline">Landline</option>
                                        </select>
                                    </span>
                                </div>
                                <input type="text" class="form-control input-bg-form-control" id="contactWorker"
                                    inputmode="tel" @input="trimWhiteSpace($event,'educAndEmpData','socialWorkContact')"
                                    placeholder="Enter social worker's phone number"
                                    v-model="educAndEmpData.socialWorkContact">
                                <div class="input-group-append ">
                                    <span class="input-group-text px-3 font-25">
                                        <i class="fa common-fa-fa fa-phone" aria-hidden="true"></i>
                                    </span>
                                </div>
                            </div>

                            <!-- <div class="invalid-feedback d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && !educAndEmpData.socialWorkContact),'invalid-fields':!educAndEmpData.socialWorkContact }">
                                You must provide a number.
                            </div> -->
                            <div class="invalid-feedback d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && educAndEmpData.socialWorkContact && socialWorkContactType == 'mobile' && !phoneRegex.test(educAndEmpData.socialWorkContact)),
                                'invalid-fields':(educAndEmpData.socialWorkContact && socialWorkContactType == 'mobile' && !phoneRegex.test(educAndEmpData.socialWorkContact)) }">
                                You must provide a valid mobile number.
                            </div>
                            <div class="invalid-feedback d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && educAndEmpData.socialWorkContact && socialWorkContactType == 'landline' && !landlineRegex.test(educAndEmpData.socialWorkContact)),
                                'invalid-fields':(educAndEmpData.socialWorkContact && socialWorkContactType == 'landline' && !landlineRegex.test(educAndEmpData.socialWorkContact)) }">
                                You must provide a valid mobile number.
                            </div>
                        </div>
                    </div>
                </form>
                <!-- Social Worker Contact End -->

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'yes' && showInstitution && (educAndEmpData.attendedInfo || educationManualAddressData.length) && !educAndEmpData.socialWorkContact">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there. </p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'yes' && showInstitution && (educAndEmpData.attendedInfo || educationManualAddressData.length) && (educAndEmpData.socialWorkContact && dynamicRegexPattern.test(educAndEmpData.socialWorkContact))">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there. </p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'yes' && !showInstitution && (educAndEmpData.socialWorkContact && dynamicRegexPattern.test(educAndEmpData.socialWorkContact))">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there. </p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'yes' && !showInstitution && !educAndEmpData.socialWorkContact">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there.</p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="text-center py-4" v-if="educAndEmpData.haveSocialWorker == 'yes'">
                    <button @click="saveAndContinue()" type="button" class="btn px-md-4 py-1 px-3"><span
                            class="btn-secondary-text">SAVE &
                            CONTINUE</span></button>
                </div>
                <!-- Dynamic Toaster start Scenario 1 End-->

                <!-- Dynamic Toaster start Scenario 2 Start-->

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'no' && showInstitution && (educAndEmpData.attendedInfo || educationManualAddressData.length)">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there.</p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>

                        </div>
                    </div>
                </div>

                <div class="px-4 py-4"
                    v-if="educAndEmpData.haveSocialWorker == 'no' && !showInstitution && (!educAndEmpData.attendedInfo && !educationManualAddressData.length)">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                            </div>
                            <div>
                                <p class="question-font text-center m-0 pt-2">Over halfway there. </p>
                                <p class="question-font text-center m-0 pb-2">Next section: reasons
                                    for
                                    your referral request.</p>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- <div class="px-4 py-4"
                    v-if="isFormSubmitted && educAndEmpData.haveSocialWorker == 'no' && showInstitution && (!educAndEmpData.attendedInfo && !educationManualAddressData.length)">
                    <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                        <div class="px-2 py-2">
                            <div class="text-center m-0 pt-2 pb-1">
                                <span style="color:#DD3939 !important">
                                    <i class="fa fa-times-circle fa-2x" aria-hidden="true"></i>
                                </span>
                            </div>
                            <p class="question-font text-center text-danger m-0 py-2">You have missed out a
                                section on this
                                page.</p>
                        </div>
                    </div>
                </div> -->

                <div v-if="educAndEmpData.haveSocialWorker == 'no'" class="text-center py-4">
                    <button @click="saveAndContinue()" type="button" class="btn px-md-4 py-1 px-3"><span
                            class="btn-secondary-text">SAVE &
                            CONTINUE</span></button>
                </div>
                <!-- Dynamic Toaster start Scenario 2 End-->


                <!-- Add Manual address Modal Start -->
                <div class="modal fade" id="educationModal" tabindex="-1" role="dialog"
                    aria-labelledby="educationModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content modal-bg">
                            <div class="modal-header justify-content-center">
                                <template v-if="addressData.mode == 'update'">
                                    <h5 class="question-header-font">Edit address</h5>
                                </template>
                                <template v-else-if="addressData.mode == ''">
                                    <h5 class="question-header-font">Add address</h5>
                                    </span>
                                </template>
                                <template v-else>
                                    <h5 class="question-header-font">Add address</h5>
                                </template>
                                <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close">
                                    <i @click="resetAddressValue()" class="fal fa-times fa-2x cursor-pointer"></i>
                                </span>
                            </div>
                            <div class="modal-body py-1 px-4">

                                <!-- School start-->
                                <div class="form-group">
                                    <label for="school" inputmode="text" class="question-font">Name of school /
                                        college/ university</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.school"
                                            @input="trimWhiteSpace($event,'addressData','school')" id="school"
                                            placeholder="Enter name of school /college/ university">
                                        <div class="input-group-append ">
                                            <span class="input-group-text input-group-secondary-text px-3 font-23">
                                                <i class="fa fa-address-card-o" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback d-none"
                                        v-bind:class="{ 'd-block': ( isAddressFormSubmitted  && !addressData.school) }">
                                        Please provide a school/college/university.
                                    </div>
                                </div>
                                <!-- School end -->

                                <!-- Address Line1 start-->
                                <div class="form-group">
                                    <label for="addressline1" inputmode="text" class="question-font">Address
                                        line 1</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.addressLine1"
                                            @input="trimWhiteSpace($event,'addressData','addressLine1')"
                                            id="addressline1" placeholder="Enter address line 1">
                                        <div class="input-group-append ">
                                            <span class="input-group-text input-group-secondary-text px-3 font-23">
                                                <i class="fa fa-address-card-o" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <div class="invalid-feedback d-none"
                                        v-bind:class="{ 'd-block': ( isAddressFormSubmitted  && !addressData.addressLine1) }">
                                        Please provide an address.
                                    </div>
                                </div>
                                <!-- Address Line1 end -->

                                <!-- Address Line2 start -->
                                <div class="form-group">
                                    <label for="addressline2" inputmode="text" class="question-font">Address
                                        line 2 -<b> optional</b></label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.addressLine2"
                                            @input="trimWhiteSpace($event,'addressData','addressLine2')"
                                            id="addressline2" placeholder="Enter address line 2">
                                        <div class="input-group-append ">
                                            <span class="input-group-text input-group-secondary-text px-3 font-23">
                                                <i class="fa fa-address-card-o" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Address Line2 end -->

                                <!-- City start-->
                                <div class="form-group">
                                    <label for="cityInfo" inputmode="text" class="question-font">City</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.city"
                                            @input="trimWhiteSpace($event,'addressData','city')" id="cityInfo"
                                            placeholder="Enter city">
                                        <!-- <div class="input-group-append ">
                                          <span class="input-group-text input-group-secondary-text px-3 font-23">
                                              <i class="fa fa-address-card-o" aria-hidden="true"></i>
                                          </span>
                                      </div> -->
                                    </div>
                                    <div class="invalid-feedback d-none"
                                        v-bind:class="{ 'd-block': ( isAddressFormSubmitted  && !addressData.city) }">
                                        Please provide a city name.
                                    </div>
                                </div>
                                <!-- City end -->

                                <!-- Country start-->
                                <div class="form-group">
                                    <label for="countyAdd" inputmode="text" class="question-font">Country -<b>
                                            optional</b></label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.country"
                                            @input="trimWhiteSpace($event,'addressData','country')" id="countyAdd"
                                            placeholder="Enter country">
                                        <div class="input-group-append ">
                                            <span class="input-group-text input-group-secondary-text px-3 font-23">
                                                <i class="fa fa-globe" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                    </div>
                                </div>
                                <!-- Country end -->

                                <!-- Postcode start-->
                                <div class="form-group">
                                    <label for="postCodeAdd" inputmode="text" class="question-font">Postcode</label>
                                    <div class="input-group">
                                        <input type="text" class="form-control input-bg-form-control"
                                            v-model="addressData.postCode"
                                            @input="trimWhiteSpace($event,'addressData','postCode')" id="postCodeAdd"
                                            placeholder="Enter postcode">
                                        <!-- <div class="input-group-append ">
                                          <span class="input-group-text input-group-secondary-text px-3 font-23">
                                              <i class="fa fa-address-card-o" aria-hidden="true"></i>
                                          </span>
                                      </div> -->
                                    </div>
                                    <div class="invalid-feedback d-none"
                                        v-bind:class="{ 'd-block': ( isAddressFormSubmitted  && !addressData.postCode) }">
                                        Please provide a postcode.
                                    </div>
                                    <div class="invalid-feedback d-none"
                                        v-bind:class="{ 'd-block': ( isAddressFormSubmitted && (addressData.postCode && !postCodeRegex.test(addressData.postCode))) }">
                                        Please provide a valid postcode.
                                    </div>
                                </div>
                                <!-- Postcode end -->

                                <div class="modal-footer">
                                    <button type="submit" class="btn px-md-4 w-50" @click="upsertAddress()">
                                        <template v-if="addressData.mode == 'update'">
                                            <span class="btn-modal-text">UPDATE
                                            </span>
                                        </template>
                                        <template v-else-if="addressData.mode == ''">
                                            <span class="btn-modal-text">ADD
                                            </span>
                                        </template>
                                        <template v-else>
                                            <span class="btn-modal-text">ADD
                                            </span>
                                        </template>
                                    </button>
                                </div>

                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add Manual address Modal End -->

                <!-- EHCP support content modal start -->
                <div class="modal fade" id="ehcpModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="px-2 py-4">
                                <div class="d-flex justify-content-center m-0 cursor-pointer">
                                    <span style="color:#023087 ;">
                                        <i class="fas fa-info-circle fa-2x" aria-hidden="true"></i>
                                    </span>
                                    <span aria-hidden="true" class="modal-close" data-dismiss="modal"
                                        aria-label="Close"><i class="fal fa-times fa-2x cursor-pointer"></i></i>
                                </div>
                                <div class="col-md-10 col-lg-8 col-xl-10 mx-auto col-sm-10 col-12">
                                    <h3 class="px-4 pt-4 pb-2 support-modal-header-text text-center">
                                        An Education, Health and Care Plan (EHCP) outlines any special educational needs
                                        a child has, and the provision a local authority must put in place to help them
                                    </h3>
                                    <h3 class="support-modal-content-text text-left py-2"> If your school is supportive
                                        and knowledgeable about special needs, they may start off the process for you.
                                        But you can request one yourself, simply by contacting your local authority’s
                                        special educational needs department and requesting an assessment for an EHCP
                                    </h3>
                                    <p class="support-modal-link-text cursor-pointer text-center m-0 py-2">
                                        <a href="http://search3.openobjects.com/kb5/liverpool/fsd/service.page?id=aR_ebr58DtU"
                                            target="_blank">
                                            > Learn more about the Liverpool EHCP Process
                                        </a>
                                    </p>
                                    <p class="support-modal-link-text cursor-pointer text-center m-0 py-2">
                                        <a href="https://www.seftondirectory.com/kb5/sefton/directory/site.page?id=C-UTVI8iX94&localofferchannel=0"
                                            target="_blank">
                                            > Learn more about the Sefton EHCP Process
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--EHCP support content modal end -->

                <!-- EHAT support content modal start -->
                <div class="modal fade" id="eHatModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="px-2 py-4">
                                <div class="d-flex justify-content-center m-0 cursor-pointer">
                                    <span style="color:#023087 ;">
                                        <i class="fas fa-info-circle fa-2x" aria-hidden="true"></i>
                                    </span>
                                    <span aria-hidden="true" class="modal-close" data-dismiss="modal"
                                        aria-label="Close"><i class="fal fa-times fa-2x cursor-pointer"></i></i>
                                </div>
                                <div class="col-md-10 col-lg-8 col-xl-10 mx-auto col-sm-10 col-12">
                                    <h3 class="px-4 pt-4 pb-2 support-modal-header-text text-center">
                                        An Early Help Assessment Tool (EHAT) is a tool used for gathering information
                                        and a standard approach in assessment for the identification of Early Help
                                        needs
                                    </h3>
                                    <h3 class="support-modal-content-text text-left py-2">
                                        The EHAT helps practitioners to gather and understand information about the
                                        needs and strengths of children and the family. This is based on discussions
                                        with children and their family and other practitioners as appropriate
                                    </h3>
                                    <p class="support-modal-link-text cursor-pointer text-center m-0 py-2">
                                        <a href="https://ehd.liverpool.gov.uk/kb5/liverpool/fsd/service.page?id=BgW2Z1nz7Bc"
                                            target="_blank">
                                            > Learn more about EHATs
                                        </a>
                                    </p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!--EHAT support content modal end -->

            </div>
        </div>
    </div>

    {% endraw %}
</div>
</div>
{% endblock %}
