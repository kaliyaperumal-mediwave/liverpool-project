{% extends "layout.html" %} {% block extraBody %}


<script src="/modules/admin-module/js/admin.js"></script>
<script src="/modules/admin-module/js/download.js"></script>
<!-- Bootstrap min -->
<link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.5.2/css/bootstrap.css" rel="stylesheet">
<link href="https://cdn.datatables.net/1.10.23/css/dataTables.bootstrap4.min.css" rel="stylesheet">
<script src="https://cdn.datatables.net/1.10.23/js/jquery.dataTables.min.js"></script>
<script src="https://cdn.datatables.net/1.10.23/js/dataTables.bootstrap4.min.js"></script>
<script src="https://cdn.datatables.net/plug-ins/1.10.22/sorting/date-uk.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.0/js/dataTables.buttons.min.js"></script>
<script src="https://cdn.datatables.net/buttons/1.7.0/js/buttons.html5.min.js"></script>
<script src="https://cdn.datatables.net/select/1.3.3/js/dataTables.select.min.js"></script>

{% endblock %}
{% block main%}
{% include "../../shared-referal-module/views/adminHeader.html" %}
<div id="admin">
    {% raw %}
    <!-- navbar start -->
    <!-- <nav class="header-bg header-set-height">
        <div class="row mx-0 w-100 justify-content-between align-center">
            <div class="butLogo-cont">
                <div class="logo">
                    <a href="/admin" class="text-decoration-none"><img
                            src="/modules/my-apostrophe-assets/img/liverpool.svg" /></a>
                </div>
            </div>

            <a href="">
                <button class="button-referral">
                    Go to platform
                </button>
            </a>
        </div>
    </nav> -->
    <!-- navbar end -->

    <!-- Loader start -->
    <div class="overlay" id="loader">
        <div class="overlay__inner">
            <div class="overlay__content">
                <div class="lds-spinner">
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                    <div></div>
                </div>
            </div>
        </div>
    </div>
    <!-- Loader end -->

    <div class="admin-mid-contain w-100">
        <div class="row w-100 mr-0 ml-0">
            <div id="admin-slider" class="admin-slider-left d-none">
                <div class="slider-inside-contain w-100">
                    <div class="padding-set-admin">
                        <div class="logo-bg" style="height: 54px !important;">
                        </div>
                        <!-- <div class="admin-logo-icon">
                            <img src="/modules/my-apostrophe-assets/img/liverpool.svg" />
                        </div> -->
                    </div>
                    <div class="text-slider-fix">Home</div>
                    <div class="text-slider-fix">Referrals</div>
                    <div class="text-slider-fix">Inbox</div>
                    <div class="text-slider-fix">Appointments</div>
                    <div class="text-slider-fix">Log out</div>
                </div>
            </div>
            <div id="admin-rest" class="admin-contain-right">
                <div id="toggle-cont" class="admin-toggle-menu d-none" @click="openToggle(toggle)">
                    <div class="class-menu-hide"> menu</div> <i id="admin-arrow-left"
                        class="far fa-long-arrow-right  pl-2 pr-1"></i>
                </div>
                <!-- <div id="searchBar">
                    <div class="input-group">
                        <span class="input-group-prepend">
                            <div class="searchIconColor   border-right-0 height-44 ">
                                <span style="color: #023047 !important;">
                                    <i class="fal fa-search font-23"></i>
                                </span>
                            </div>
                        </span>
                        <input class="height-44  border-0 form-control py-2 searchSetColor" type="search"
                            placeholder="Search referral" v-model="searchTxt"
                            @input="search()" id="example-search-input">
                    </div>
                </div> -->

                <div>
                    <div>
                        <h2 class="admin-referral-primary mb-2 mb-md-3 ">Referrals</h2>
                        <p class="admin-inside-text my-2 my-md-3">Check and view the status of your referrals</p>
                    </div>
                </div>
                <div class="button-cont-admin row">
                    <div class="py-2 set-div-width d-flex align-center justify-content-center">
                        <button type="button" class="btn-delete-admin" @click="deletePopup()">
                            Delete
                        </button>
                    </div>
                    <div class="py-2 set-div-width d-flex align-center justify-content-center">
                        <button type="button" class="btn-archive-admin" @click="archiveReferral()">
                            Archive
                        </button>
                    </div>
                    <div class=" py-2 set-div-width d-flex align-center justify-content-center">
                        <button type="button" id="ExportReporttoExcel" class="btn-archive-admin">
                            Download CSV
                        </button>
                    </div>
                </div>
                <div id="scroll-style-admin" class="custom-table-nested pb-3">
                    <table id="adminReferral" class="table table-striped table-bordered w-100">
                        <thead>
                            <tr>
                                <th class="icon-display-none"></th>
                                <th>
                                    <div>Name</div>
                                </th>
                                <th>
                                    <div>DOB</div>
                                </th>
                                <th>
                                    <div>Unique code</div>
                                </th>
                                <th>
                                    <div>Referrer</div>
                                </th>
                                <th>
                                    <div>GP location</div>
                                </th>
                                <th>
                                    <div>Referrer type</div>
                                </th>
                                <th>
                                    <div>Date</div>
                                </th>
                                <th>
                                    <div>Status</div>
                                </th>
                                <th>Action</th>
                            </tr>
                        </thead>
                    </table>

                    <!-- Login Succuss Modal Start -->
                    <div class="modal fade" id="deletedSuccess" data-backdrop="static" data-keyboard="false"
                        tabindex="-1" role="dialog" aria-labelledby="deletedSuccessLabel" aria-hidden="true">
                        <div class="modal-dialog modal-dialog-centered" role="document">
                            <div class="modal-content modal-bg login-safe-pd">
                                <span aria-hidden="true" class="modal-close" @click="closeModal()">
                                    <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                                </span>
                                <div class="modal-header justify-content-center model-text-pd text">
                                    <p class="text-center m-0 py-2">
                                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                                    </p>
                                    <h5 class="logout-font mt-3 text-center">{{ successMessage }}</h5>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!-- Login Succuss Modal End -->

                </div>
            </div>
        </div>
    </div>
    <!-- Send popup Start -->
    <input type='checkbox' class='reload' style="display:none">
    <div class="modal fade" id="sendProviderModal" tabindex="-1" role="dialog" aria-labelledby="sendProviderModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg">
                <div class="modal-header justify-content-center">
                    <h5 class="logout-font mt-3">Select Provider?</h5>
                    <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close">
                        <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                    </span>
                </div>
                <div class="px-sm-5 px-4 py-2">
                    <div class="input-group w-100">
                        <span class="plain-select">
                            <select style="background: #fff !important;" v-model="SelectedProviderType"
                                id="SelectedProviderType"
                                class="custom-select form-control input-bg-form-control height-44">
                                <option class='option-text' value="Liverpool">Liverpool
                                </option>
                                <option class='option-text' value="Sefton">Sefton
                                </option>
                            </select>
                        </span>
                    </div>
                </div>
                <div v-if="SelectedProviderType === 'Liverpool'">
                    <div class="px-sm-5 px-4 py-2">
                        <div class="input-group w-100">
                            <span class="plain-select">
                                <select style="background: #fff !important;" id="SelectedProvider"
                                    class="custom-select form-control input-bg-form-control height-44">
                                    <option class='option-text' value="Alder Hey - Liverpool CAMHS - EDYS">Alder Hey -
                                        Liverpool CAMHS - EDYS </option>
                                    <option class='option-text' value="YPAS">YPAS</option>
                                    <option class='option-text' value="MHST Liverpool">Mental Health Support Team
                                    </option>
                                    <option class='option-text' value="Seedlings">Seedlings</option>
                                    <option class='option-text' value="Wellbeing Clinics">Wellbeing Clinics</option>
                                </select>
                            </span>
                        </div>
                    </div>
                </div>

                <div v-if="SelectedProviderType === 'Sefton'">
                    <div class="px-sm-5 px-4 py-2">
                        <div class="input-group w-100">
                            <span class="plain-select">
                                <select style="background: #fff !important;" id="SelectedProvider"
                                    class="custom-select form-control input-bg-form-control height-44">
                                    <option class='option-text' value="Alder Hey - Sefton CAMHS - EDYS">Alder Hey -
                                        Sefton CAMHS - EDYS</option>
                                    <option class='option-text' value="Venus">Venus</option>
                                    <option class='option-text' value="Parenting 2000">Parenting 2000</option>
                                    <option class='option-text' value="MHST Sefton">Mental Health Support Team</option>
                                    </option>
                                </select>
                            </span>
                        </div>
                    </div>
                </div>

                <div class="modal-footer submit-btn-admin">
                    <button type="submit" class="btn mb-3 px-md-4 w-50 d-flex align-center justify-content-center"
                        style="background-color: #219EBC !important;" id="sendRef">
                        <span class="btn-modal-text">Send
                        </span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Send popup End -->

    <!-- Status popup -->
    <div class="modal fade" id="changeStatusModal" tabindex="-1" role="dialog" aria-labelledby="changeStatusModalLabel"
        aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg">
                <div class="modal-header justify-content-center">
                    <h5 class="logout-font mt-3">Change status</h5>
                    <span aria-hidden="true" class="modal-close" @click="closeStatusPopup()">
                        <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                    </span>
                </div>
                <div class="px-sm-5 px-4 py-2">
                    <div class="input-group w-100">
                        <span class="plain-select">
                            <select style="background: #fff !important;" v-model="SelectedProviderStatus"
                                id="SelectedProviderStatus"
                                class="custom-select form-control input-bg-form-control height-44">
                                <option class='option-text' value="Nothing">Nothing</option>
                                <option class='option-text' value="Accepted - Alder Hey">Accepted - Alder Hey</option>
                                <!-- <option class='option-text' value="YPAS">Forwarded to partner agency - YPAS</option>
                                <option class='option-text' value="Venus">Forwarded to partner agency - Venus</option> -->
                                <option class='option-text' value="Duplicate referral">Duplicate referral</option>
                                <option class='option-text' value="Rejected referral">Rejected referral</option>
                                <option class='option-text' value="Referral to Community Paeds required instead">
                                    Referral to Community Paeds required instead</option>
                                <option class='option-text' value="Referral to other team">Referral to other team
                                </option>
                            </select>
                        </span>
                    </div>
                </div>
                <div class="px-sm-5 px-4 py-2" id="otherTeam">
                    <div class="input-group w-100">
                        <input type="text" class="form-control" placeholder="Type here..." id="statusOther" name="statusOther">
                    </div>
                </div>
                <div class="modal-footer submit-btn-admin">
                    <button type="submit" class="btn mb-3 px-md-4 w-50 d-flex align-center justify-content-center"
                        style="background-color: #219EBC !important;" id="updateStatus">
                        <span class="btn-modal-text">Update Status</span>
                    </button>
                </div>
            </div>
        </div>
    </div>
    <!-- Send popup End -->

    <!-- Mail Succuss Modal Start -->
    <div class="modal fade" id="mailSentSuccess" data-backdrop="static" data-keyboard="false" tabindex="-1"
        role="dialog" aria-labelledby="mailSentSuccessLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg login-safe-pd">
                <span aria-hidden="true" class="modal-close" @click="closeMailSuccessPopup()">
                    <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                </span>
                <div class="modal-header justify-content-center model-text-pd text">
                    <p class="text-center m-0 py-2">
                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                    </p>
                    <h5 id="successMsg" class="logout-font mt-3 text-center">Referral sent successfully</h5>
                </div>
            </div>
        </div>
    </div>
    <!-- Login Succuss Modal End -->
    <!-- Mail Succuss Modal Start -->
    <div class="modal fade" id="statusUpdatedSuccess" data-backdrop="static" data-keyboard="false" tabindex="-1"
        role="dialog" aria-labelledby="statusUpdatedSuccessLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg login-safe-pd">
                <span aria-hidden="true" class="modal-close" @click="closeUpdateSuccessPopup()">
                    <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                </span>
                <div class="modal-header justify-content-center model-text-pd text">
                    <p class="text-center m-0 py-2">
                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                    </p>
                    <h5 id="successMsg" class="logout-font mt-3 text-center">Status Updated</h5>
                </div>
            </div>
        </div>
    </div>
    <!-- Login Succuss Modal End -->
    <!-- Referral already sent popup -->
    <div class="modal fade" id="referralAlreadySent" data-backdrop="static" data-keyboard="false" tabindex="-1"
        role="dialog" aria-labelledby="referralAlreadySentLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg login-safe-pd">
                <span aria-hidden="true" class="modal-close" onclick="closeAlreadySentPopup()">
                    <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                </span>
                <div class="modal-header justify-content-center model-text-pd text">
                    <p class="text-center m-0 py-2">
                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                    </p>
                    <h5 id="sentMsg" class="logout-font mt-3 text-center"></h5>
                </div>
            </div>
        </div>
    </div>
    <!-- Login Succuss Modal End -->
    <!-- Delete popup -->
    <!-- <div class="modal fade" id="deletePopup" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog"
        aria-labelledby="deletePopupLabel" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content modal-bg login-safe-pd-custom">
                <span aria-hidden="true" class="modal-close" onclick="deletePopupHide()">
                    <i class="fal fa-times fa-2x cursor-pointer" aria-hidden="true"></i>
                </span>
                <div class="modal-header justify-content-center model-text-pd text pr-4">
                    <h5 id="sentMsg" class="logout-font mt-3 text-center">Are you sure you want to delete?</h5>
                    <div class="d-flex row m-0 p-0">
                        <div class="col-12 col-sm-6 mt-2 d-flex align-items-center justify-content-center">
                            <button @click="deleteReferral()"
                                class="btn font-weight px-md-4 d-flex align-center justify-content-center"
                                style="background-color: #219EBC !important;">
                                Yes, delete
                            </button>
                        </div>

                        <div class="col-12 col-sm-6 mt-2 d-flex align-items-center justify-content-center">
                            <button onclick="deletePopupHide()"
                                class="btn px-md-4 font-weight d-flex align-center justify-content-center">
                                No, do not delete
                            </button>
                        </div>

                    </div>

                </div>
            </div>
        </div>
    </div> -->
    <!-- Login Succuss Modal End -->
    <!-- Delete Modal Start -->
    <div class="modal fade" id="deletePopup" tabindex="-1" role="dialog"
    aria-labelledby="deleteModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered" role="document">
        <div class="modal-content modal-bg">
            <div class="modal-header justify-content-center">
                <h5 class="question-header-font" id="deleteModalLabel">Delete referrals</h5>
                <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close"><i
                        class="fal fa-times fa-2x cursor-pointer"></i></i>
            </div>
            <div class="modal-body py-1 px-4">
                <h5 class="support-modal-header-text text-center" id="exampleModalLongTitle">Are you sure you want to delete?</h5>
            </div>
            <div class="modal-footer">
                <!-- <button type="button" class="btn px-md-4 w-25" data-dismiss="modal">
                    <span class="btn-modal-text">No, do not delete
                    </span>
                </button> -->
                <button type="submit" class="btn px-md-4 w-50" id="closeModalDeleteAbout"
                    @click="deleteReferral()" style="background-color: #219EBC !important;">
                    <span class="btn-modal-text" >Yes, delete
                    </span>
                </button>
                <div class="clearfix"></div>
                <button type="button" class="btn px-md-4 w-50" data-dismiss="modal" style="background: none !important;box-shadow: none !important;margin-top: 10px;">
                    <span>No, do not delete
                    </span>
                </button>
            </div>
        </div>
    </div>
    </div>
    <!-- Delete Modal End -->
</div>
{% endraw %}
</div>

{% endblock %}