{% extends "layout.html" %}

{% block extraBody %}
<script src="/modules/referral-module/js/label.js"></script>
<script src="/modules/referral-module/js/referral.js"></script>

{% endblock %}
{% block main %}
<div id="referral-form">
    <div class="py-4 main-min-height">
        <div class="overlay" id="loader">
            <div class="overlay__inner">
                <div class="overlay__content">
                    <div class="lds-spinner">
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                        <div></div>
                    </div>
                </div>
            </div>
        </div>
        <div class="secondary-content-area col-md-6 col-sm-11 col-11 col-lg-6 col-xl-6 mx-auto">
            <div class="py-4">
                <h2 class="px-4 py-2 m-0 question-header-font col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">About your
                    referral
                </h2>
                {% raw %}

                <!--  Support-Start-->
                <form id="support-form" data-options="support">
                    <div class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.supportNeedsLabel}}</p>
                        <div class="d-flex form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.support" name="support"
                                id="mental" @change="onOptionChange($event)" value="Mental health">
                            <label class="form-check-label option-font d-flex align-items-center" for="mental">
                                Mental health
                            </label>
                            <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-lg-3 px-2 cursor-pointer"
                                data-toggle="modal" data-target="#mentalConsentModal" alt="">
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.support" name="support"
                                id="disorder" @change="onOptionChange($event)" value="Eating disorder">
                            <label class="form-check-label option-font d-flex align-items-center" for="disorder">
                                Eating disorder
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.support" name="support"
                                id="mental&disorder" @change="onOptionChange($event)"
                                value="Mental health & eating disorder&Eating">
                            <label class="form-check-label option-font d-flex align-items-center" for="mental&disorder">
                                Mental health & eating disorder
                            </label>
                        </div>
                    </div>
                </form>
                <!-- Support-End-->

                <!--  Covid-Referrral-Start-->
                <form id="covid-form" data-options="covid">
                    <div v-if="(referralData.support == 'Mental health' || referralData.support == 'Eating disorder' || referralData.support == 'Mental health & eating disorder&Eating')"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">Is this referral related to Covid-19?</p>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.covid"
                                name="covidReferal" id="refYes" @change="onOptionChange($event)" value="yes">
                            <label class="form-check-label option-font d-flex align-items-center" for="refYes">
                                Yes
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.covid"
                                name="covidReferal" id="refNo" @change="onOptionChange($event)" value="no">
                            <label class="form-check-label option-font d-flex align-items-center" for="refNo">
                                No
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.covid"
                                name="covidReferal" id="refUnsure" @change="onOptionChange($event)" value="unsure">
                            <label class="form-check-label option-font d-flex align-items-center" for="refUnsure">
                                Unsure
                            </label>
                        </div>
                    </div>
                </form>
                <!-- Covid-Referrra-End-->

                <!-- Mental Diagnosis-Start-->
                <form id="diagnosis-form" data-options="diagnosis">
                    <div v-if="(referralData.covid == 'yes' || referralData.covid == 'no' || referralData.covid == 'unsure')"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.diagnosisLabel}}</p>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.diagnosis"
                                name="mentalDiagnosis" id="diagnosisYes" @change="onOptionChange($event)" value="yes">
                            <label class="form-check-label option-font d-flex align-items-center" for="diagnosisYes">
                                Yes
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.diagnosis"
                                name="mentalDiagnosis" id="diagnosisNo" @change="onOptionChange($event)" value="no">
                            <label class="form-check-label option-font d-flex align-items-center" for="diagnosisNo">
                                No
                            </label>
                        </div>
                    </div>
                </form>
                <!--  Mental Diagnosis-End-->

                <!-- List of Diagnosis-Start-->
                <form id="diagnosis-list-form" data-options="diagnosisList">
                    <div v-if="referralData.diagnosis == 'yes'"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">Please tick all that apply or add more information into the “Other”
                            text
                            box
                            at the bottom of the list</p>
                        <div class="custom-form-group pt-3 pb-1 m-0" v-for="(item, index) in listOfDiagnosis"
                            :key="index">
                            <input type="checkbox" v-bind:id="item.id" name="listDiagnosis" v-model="diagnosisList"
                                v-bind:value="item.value" @change="onOptionChange($event,item)">
                            <label v-bind:for="item.id" class="option-font d-flex align-items-center">
                                {{ item.value }}</label>
                        </div>
                    </div>
                </form>
                <!-- List of Diagnosis-End-->


                <!-- List of Diagnosis Others Start -->
                <form id="diagnosis-list-others-form" data-options="diagnosisOther">
                    <div v-if="referralData.diagnosis == 'yes'"
                        class="px-4 pb-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group m-0">
                            <label for="others" class="question-font">Other</label>
                            <textarea class="h-112 form-control" name="listDiagnosis" id="others"
                                v-model="referralData.diagnosisOther" @keyup="onValueEnter($event)" rows="4"></textarea>
                        </div>
                    </div>
                </form>


                <!-- Mental Diagnosis-Start-->
                <form id="symtomsSupport-form" data-options="supportOrSymptoms">
                    <div v-if="(referralData.diagnosis == 'no' || diagnosisList.length || referralData.diagnosisOther)"
                        class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.symptomsOrSupportLabel}}</p>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.supportOrSymptoms"
                                name="symptomOrSupport" id="supportYes" @change="onOptionChange($event)" value="yes">
                            <label class="form-check-label option-font d-flex align-items-center" for="supportYes">
                                Yes
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.supportOrSymptoms"
                                name="symptomOrSupport" id="supportNo" @change="onOptionChange($event)" value="no">
                            <label class="form-check-label option-font d-flex align-items-center" for="supportNo">
                                No
                            </label>
                        </div>
                    </div>
                </form>
                <!--  Mental Diagnosis-End-->

                <!-- List of Troubles-Start-->
                <form id="problems-list-form" data-options="problemsList">
                    <div v-if="referralData.supportOrSymptoms == 'yes'"
                        class="px-4 pt-3 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">Please tick all that apply or add more information into the “Other”
                            text
                            box
                            at the bottom of the list</p>
                        <div class="custom-form-group pt-3 pb-1 m-0" v-for="(item, index) in listOfProblems"
                            :key="index">
                            <input type="checkbox" v-bind:id="item.id" name="listProblems" v-bind:value="item.value"
                                v-model="problemsList" v-bind:checked="item.isActive" @change="onOptionChange($event)">
                            <label v-bind:for="item.id" class="option-font d-flex align-items-center">
                                {{ item.value }}</label>
                        </div>
                    </div>
                </form>
                <!-- List of Troubles-End-->


                <!-- List of other troubles start -->
                <form id="problems-list-others-form" data-options="problemsOther">
                    <div v-if="referralData.supportOrSymptoms == 'yes'"
                        class="px-4 py-3 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group py-2 m-0">
                            <label for="proOthers" class="question-font">Other</label>
                            <textarea class="h-112 form-control" name="listProblems" id="proOthers"
                                v-model="referralData.problemsOther" @keyup="onValueEnter($event)" rows="4"></textarea>
                        </div>
                    </div>
                </form>
                <!-- List of other troubles end -->

                <!-- List of TextArea Inputs-->
                <form id="problems-list-form" data-options="referralInfo">
                    <div v-if="referralData.supportOrSymptoms == 'no' || referralData.problemsOther || problemsList.length"
                        class="px-4 py-3 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group">
                            <label for="textInfo1" class="question-font">{{dynamicLabels.referralLabel}}</label>
                            <textarea class="h-112 form-control" name="infoTextAreas" id="textInfo1"
                                v-model="referralData.referralInfo"
                                v-bind:placeholder="dynamicLabels.referralPlaceHolder" rows="7"></textarea>
                            <div class="text-validation invalid-feedback  d-none"
                                v-bind:class="{ 'd-block':(isFormSubmitted && !referralData.referralInfo),'invalid-fields':!referralData.referralInfo }">
                                You must provide some information on your main referral issue.
                            </div>
                        </div>
                    </div>
                </form>
                <!-- List of Troubles-End-->

                <!-- Has anything helped-start -->
                <form id="anything-helped-form" data-options="hasAnythingInfo">
                    <div v-if="referralData.supportOrSymptoms == 'no' || referralData.problemsOther || problemsList.length"
                        class="px-4 py-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group py-1">
                            <label for="textInfo2" class="question-font">Has anything helped?</label>
                            <textarea class="h-112 form-control" name="infoTextAreas" id="textInfo2"
                                v-bind:placeholder="dynamicLabels.anythingHelpedPlaceHolder"
                                v-model="referralData.hasAnythingInfo" rows="7"></textarea>
                            <div class="text-validation invalid-feedback  d-none"
                                v-bind:class="{ 'd-block': (isFormSubmitted && !referralData.hasAnythingInfo),'invalid-fields':!referralData.hasAnythingInfo }">
                                You must provide answer to this question.
                            </div>
                        </div>
                    </div>
                </form>
                <!--Has anything helped-end -->

                <!-- Particular-triggers-start -->
                <form id="problems-list-form" data-options="triggerInfo">
                    <div v-if="referralData.supportOrSymptoms == 'no' || referralData.problemsOther || problemsList.length"
                        class="px-4 py-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <div class="form-group py-1">
                            <label for="textInfo3" class="question-font">{{dynamicLabels.triggersLabel}}</label>
                            <textarea class="h-112 form-control" name="infoTextAreas" id="textInfo3"
                                v-bind:placeholder="dynamicLabels.triggersPlaceHolder"
                                v-model="referralData.triggerInfo" rows="7"></textarea>
                            <div class="text-validation invalid-feedback  d-none"
                                v-bind:class="{ 'd-block':  (isFormSubmitted && !referralData.triggerInfo) ,'invalid-fields':!referralData.triggerInfo}">
                                You must provide answer to this question.
                            </div>
                        </div>
                    </div>
                </form>
                <!-- Particular-triggers-end -->

                <!-- Your History Start-->
                <form id="history-start-form" data-options="disabilityOrDifficulty">
                    <div v-if="referralData.supportOrSymptoms == 'no' || referralData.problemsOther || problemsList.length"
                        class="pt-2">
                        <h2 class="px-4 py-2 m-0 question-header-font col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">Your
                            history
                        </h2>
                        <div class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                            <div class="form-group m-0">
                                <label for="disability"
                                    class="question-font">{{dynamicLabels.disabilitiesLabel}}</label>
                                <textarea class="h-112 form-control" name="disabilitiesandDifficulty" id="disability"
                                    v-bind:placeholder="dynamicLabels.disabilitiesPlaceHolder"
                                    v-model="referralData.disabilityOrDifficulty" rows="7"></textarea>
                                <div class="text-validation invalid-feedback  d-none"
                                    v-bind:class="{ 'd-block': (isFormSubmitted && !referralData.disabilityOrDifficulty), 'invalid-fields':!referralData.disabilityOrDifficulty}">
                                    You must provide answer to this question.
                                </div>
                            </div>
                        </div>
                    </div>
                </form>
                <!-- Your History-End-->

                <!-- Accesses Service Start -->
                <form id="access-service-start-form" data-options="accessService">
                    <div v-if="referralData.supportOrSymptoms == 'no' || referralData.problemsOther || problemsList.length"
                        class="px-4 py-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.prevAccessedServiceLabel}}</p>
                        <div class="form-check pt-3 pb-1 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.accessService"
                                name="accessedService" id="accessSerYes" @change="onOptionChange($event)" value="yes">
                            <label class="form-check-label option-font d-flex align-items-center" for="accessSerYes">
                                Yes
                            </label>
                        </div>
                        <div class="form-check py-2 pl-0">
                            <input class="form-check-input" type="radio" v-model="referralData.accessService"
                                name="accessedService" id="accessSeNo" @change="onOptionChange($event)" value="no">
                            <label class="form-check-label option-font d-flex align-items-center" for="accessSeNo">
                                No
                            </label>
                        </div>
                    </div>
                </form>
                <!-- Accesses Service End -->


                <!-- List Available Start -->
                <form id="servicesAll-list-form" v-if="referralData.accessService == 'yes'" data-options="accessList">
                    <div class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font m-0">{{dynamicLabels.listServiceLabel}}</p>
                        <div class="custom-form-group pt-3 pb-1 m-0" v-for="(item, index) in listOfAvailableService"
                            :key="index">
                            <input type="checkbox" v-bind:id="item.id" name="listService" v-bind:value="item.value"
                                v-model="accessList" @change="onOptionChange($event)">
                            <label v-bind:for="item.id" class="option-font d-flex align-items-center">
                                {{ item.value }}</label>
                        </div>
                    </div>
                </form>
                <!-- List Available Start -->

                <!--Add a Service Start-->
                <form id="addService-form">
                    <div v-if="showAddOtherService" class="px-4 py-2 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                        <p class="question-font">Are you want to add
                            any service?</p>
                        <!-- <div class="text-center"> -->
                        <template v-if="allAvailableService.length">
                            <div class="card text-left mb-2" v-for="(item, index) in allAvailableService" :key="index">
                                <div class="card-body">
                                    <div class="d-flex align-items-center justify-content-between my-1">
                                        <h5 class="card-title">{{item.name}}</h5>
                                        <div>
                                            <span class="badge badge-pill cursor-pointer" data-toggle="modal"
                                                data-target="#serviceModal" @click="patchService(item)"><i
                                                    class="fa fa-pencil fa-2x" aria-hidden="true"></i>
                                            </span>
                                            <span class="badge badge-pill cursor-pointer"><i data-id="index"
                                                    data-toggle="modal" data-target="#deleteModal"
                                                    @click="openDeleteModal(item)" data-item="item"
                                                    class="fa fa-trash-o fa-2x" aria-hidden="true"></i>
                                            </span>
                                        </div>
                                    </div>
                                    <h6 class="card-subtitle mb-2 text-muted">{{item.professional}}</h6>
                                    <p class="card-text">{{item.contact}}</p>
                                </div>
                            </div>
                        </template>

                        <!-- <p class="text-left mx-1 my-2 cursor-pointer" data-toggle="modal" data-target="#serviceModal"
                            @click="resetModal('add')"><span v-if="!allAvailableService.length">Currently,you
                                don't
                                have any
                                service.</span> Please click
                            here to add a service
                            <span class="px-2"> <i class="fa fa-plus-circle" color="#023047"
                                    aria-hidden="true"></i></span>
                        </p> -->
                        <button data-toggle="modal" data-target="#serviceModal" type="button" @click="resetModal('add')"
                            class="btn px-md-4 py-1 px-3"><span class="btn-terirary-text">Add
                                service <i class="fa fa-plus-circle" aria-hidden="true"></i>
                            </span></button>
                        <!-- </div> -->
                    </div>
                </form>
                <!-- Add a Service End -->

                <!-- Add Service Modal Start -->
                <div class="modal fade" id="serviceModal" data-id="index" data-item="item" tabindex="-1" role="dialog"
                    aria-labelledby="addModalLabel" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content modal-bg">
                            <div class="modal-header justify-content-center">
                                <template v-if="serviceData.mode == 'update'">
                                    <h5 class="question-header-font" id="addModalLabel">Edit service</h5>
                                </template>
                                <template v-else-if="serviceData.mode == ''">
                                    <h5 class="question-header-font" id="addModalLabel">Add service</h5>
                                    </span>
                                </template>
                                <template v-else>
                                    <h5 class="question-header-font" id="addModalLabel">Add service</h5>
                                </template>
                                <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close"><i
                                        class="fa fa-times-circle fa-2x cursor-pointer"></i></i>
                            </div>
                            <div class="modal-body py-1 px-4">
                                <form id="add-service-form">
                                    <div class="form-group">
                                        <label for="service-name" class="question-font">Name of service</label>
                                        <input type="text" class="form-control" v-model="serviceData.name"
                                            id="service-name" placeholder="Enter the name of the service you have used">
                                        <div class="text-validation invalid-feedback  d-none"
                                            v-bind:class="{ 'd-block': ( hasSubmittedServiceForm && !serviceData.name) }">
                                            You must provide the name of the service.
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="profAtService" class="question-font">Name of professional at
                                            service</label>
                                        <input type="text" v-model="serviceData.professional" class="form-control"
                                            id="profAtService" placeholder="Enter the name of who you worked with">
                                        <div class="text-validation invalid-feedback  d-none"
                                            v-bind:class="{ 'd-block':( hasSubmittedServiceForm && !serviceData.professional) }">
                                            You must provide the name of a professional at the service.
                                        </div>
                                    </div>
                                    <div class="form-group">
                                        <label for="contactNumber" class="question-font">Contact
                                            number for
                                            professional</label>
                                        <input type="text" class="form-control" v-model="serviceData.contact"
                                            id="contactNumber" placeholder="Enter a phone number for the professional">
                                        <div class="text-validation invalid-feedback  d-none"
                                            v-bind:class="{ 'd-block': ( hasSubmittedServiceForm && !serviceData.contact) }">
                                            You must provide the 11 digit contact number.
                                        </div>
                                        <div class="text-validation invalid-feedback  d-none"
                                            v-bind:class="{ 'd-block': (hasSubmittedServiceForm && !phoneRegex.test(serviceData.contact) )}">
                                            You must provide a real 11 digit contact numebr.
                                        </div>
                                    </div>
                                </form>
                            </div>
                            <div class="modal-footer">
                                <button type="submit" class="btn px-md-4 w-50" id="closeModal" @click="upsertService()">
                                    <template v-if="serviceData.mode == 'update'">
                                        <span class="btn-modal-text">UPDATE
                                        </span>
                                    </template>
                                    <template v-else-if="serviceData.mode == ''">
                                        <span class="btn-modal-text">ADD
                                        </span>
                                    </template>
                                    <template v-else>
                                        <span class="btn-modal-text">ADD
                                        </span>
                                    </template>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Add Service Modal End -->

                <!-- Delete Modal Start -->
                <div class="modal fade" id="deleteModal" tabindex="-1" role="dialog" aria-labelledby="deleteModalLabel"
                    aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content modal-bg">
                            <div class="modal-header justify-content-center">
                                <h5 class="question-header-font" id="deleteModalLabel">Delete Service</h5>
                                <span aria-hidden="true" class="modal-close" data-dismiss="modal" aria-label="Close"><i
                                        class="fal fa-times fa-2x cursor-pointer"></i></i>
                            </div>
                            <div class="modal-body py-1 px-4">
                                <h5 class="support-modal-header-text text-center" id="exampleModalLongTitle">Are you
                                    sure want to
                                    delete this service?</h5>
                            </div>
                            <div class="modal-footer">
                                <button type="button" class="btn px-md-4 w-25" data-dismiss="modal" autofocus>
                                    <span class="btn-modal-text">No
                                    </span>
                                </button>
                                <button type="submit" class="btn px-md-4 w-25" id="closeModalDelete"
                                    @click="deleteService(storeDeleteData)">
                                    <span class="btn-modal-text">Yes
                                    </span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- Delete Modal End -->

                <!-- Dynamic Toaster start Scenerio 1-->
                <template v-if="accessList.length && !showAddOtherService">
                    <div class="px-4 py-4">
                        <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                            <div class="px-2 py-2">
                                <p class="text-center m-0 py-2">
                                    <template v-if="referralData.referralInfo  && referralData.hasAnythingInfo && 
                            referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                                    </template>
                                    <template v-else>
                                        <span style="color:#DD3939 !important">
                                            <i class="fa fa-times-circle fa-2x" aria-hidden="true"></i>
                                        </span>
                                    </template>
                                </p>
                                <template v-if="referralData.referralInfo && referralData.hasAnythingInfo && 
                        referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                    <p class="question-font text-center m-0 py-2">Fab. Last but not least,
                                        lets
                                        get your
                                        contact
                                        preferences, and give you a chance to review
                                        your answers.</p>

                                </template>
                                <template v-else>
                                    <p class="question-font text-center text danger m-0 py-2">You have missed out a
                                        section on this
                                        page
                                    </p>
                                </template>
                            </div>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <a>
                            <button @click="saveAndContinue()" type="button" class="btn px-md-4 py-1 px-3"><span
                                    class="btn-secondary-text">SAVE &
                                    CONTINUE</span></button>
                        </a>
                    </div>
                </template>
                <!-- Dynamic Toaster end -->

                <!-- Dynamic Toaster start Scenerio 2-->
                <template v-if="referralData.accessService == 'no'">
                    <div class="px-4 py-4">
                        <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                            <div class="px-2 py-2">
                                <p class="text-center m-0 py-2">
                                    <template v-if="referralData.referralInfo  && referralData.hasAnythingInfo && 
                                referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                                    </template>
                                    <template v-else>
                                        <span style="color:#DD3939 !important">
                                            <i class="fa fa-times-circle fa-2x" aria-hidden="true"></i>
                                        </span>
                                    </template>
                                </p>
                                <template v-if="referralData.referralInfo && referralData.hasAnythingInfo && 
                            referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                    <p class="question-font text-center m-0 py-2">Fab. Last but not least,
                                        lets
                                        get your
                                        contact
                                        preferences, and give you a chance to review
                                        your answers.</p>

                                </template>
                                <template v-else>
                                    <p class="question-font text-center text-danger m-0 py-2">You have missed out a
                                        section on this
                                        page
                                    </p>
                                </template>
                            </div>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <a>
                            <button @click="saveAndContinue()" type="button" class="btn px-md-4 py-1 px-3"><span
                                    class="btn-secondary-text">SAVE &
                                    CONTINUE</span></button>
                        </a>
                    </div>
                </template>


                <!-- Dynamic Toaster start Scenerio 3-->
                <template v-if="allAvailableService.length">
                    <div class="px-4 py-4">
                        <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                            <div class="px-2 py-2">
                                <p class="text-center m-0 py-2">
                                    <template v-if="referralData.referralInfo  && referralData.hasAnythingInfo && 
                                    referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                        <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                                    </template>
                                    <template v-else>
                                        <span style="color:#DD3939 !important">
                                            <i class="fa fa-times-circle fa-2x" aria-hidden="true"></i>
                                        </span>
                                    </template>
                                </p>
                                <template v-if="referralData.referralInfo && referralData.hasAnythingInfo && 
                                referralData.triggerInfo && referralData.disabilityOrDifficulty">
                                    <p class="question-font text-center m-0 py-2">Fab. Last but not least,
                                        lets
                                        get your
                                        contact
                                        preferences, and give you a chance to review
                                        your answers.</p>

                                </template>
                                <template v-else>
                                    <p class="question-font text-center text-danger m-0 py-2">You have missed out a
                                        section on this
                                        page
                                    </p>
                                </template>
                            </div>
                        </div>
                    </div>
                    <div class="text-center py-4">
                        <a>
                            <button @click="saveAndContinue()" type="button" class="btn px-md-4 py-1 px-3"><span
                                    class="btn-secondary-text">SAVE &
                                    CONTINUE</span></button>
                        </a>
                    </div>
                </template>
                <!-- Dynamic Toaster end Scenerio 3-->

                <!-- support content modal start -->
                <div class="modal fade" id="mentalConsentModal" tabindex="-1" role="dialog" aria-hidden="true">
                    <div class="modal-dialog modal-dialog-centered" role="document">
                        <div class="modal-content">
                            <div class="px-2 py-4">
                                <div class="d-flex justify-content-center m-0 cursor-pointer">
                                    <!-- <img src="/modules/my-apostrophe-assets/img/support.svg" alt="logo"
                                    class="support-logo"> -->
                                    <span style="color:#023087 ;">
                                        <i class="fas fa-info-circle fa-2x" aria-hidden="true"></i>
                                    </span>
                                    <span aria-hidden="true" class="modal-close" data-dismiss="modal"
                                        aria-label="Close"><i class="fal fa-times fa-2x cursor-pointer"></i></i>
                                </div>
                                <h3 class="px-4 py-4 pb-2 support-modal-header-text text-center">
                                    Mental health is a broad term covering many different conditions.</h3>
                                <div class="col-md-10 col-lg-8 col-xl-10 mx-auto col-sm-10 col-12">
                                    <h3 class="support-modal-content-text text-left py-2"> Mental health problems can
                                        affect
                                        the way you
                                        think, feel and behave. They range from common mental health problems (such as
                                        depression and anxiety) to more rare problems (such as schizophrenia and bipolar
                                        disorder).
                                    </h3>
                                    <h3 class="support-modal-content-text text-left py-2"> Depending on which mental
                                        health
                                        condition they
                                        have, people may feel tired, sad, helpless, angry or agitated all the time. They
                                        might make irrational decisions such as spending too much money, having
                                        inappropriate relationships, or they might feel like life just isn’t worth
                                        living.
                                    </h3>
                                    <h3 class="support-modal-content-text text-left py-2"> Mental health can also cause
                                        physical symptoms,
                                        for example, fatigue, bed wetting or
                                        outbursts of anger.
                                    </h3>
                                    <p class="support-modal-link-text cursor-pointer text-left m-0 py-2"> > Find out
                                        more
                                        about mental
                                        health</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <!-- support content modal end -->



                {% endraw %}
            </div>
        </div>
    </div>
</div>

{% endblock %}