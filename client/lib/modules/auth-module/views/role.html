{% extends "layout.html" %}

{% block extraBody %}
<script src="/modules/auth-module/js/role.js"></script>
{% endblock %}
{% block main %}
<div class="sub-header-bg">
    <h2 class="header-title  text-sm-left px-4 pt-3 text-center text-md-center m-0">Section 1 of 5: Eligibility</h2>
    <div
        class="text-center d-sm-none d-md-block d-none d-sm-none mx-auto col-md-12 col-sm-12 col-xs-12 col-lg-11 col-xl-7 pb-2 header-title">
        Before we get too far, let’s check that you or the child / young person is eligible
        to refer into this service.
    </div>
    <p class="text-center text-sm-left  px-4 d-sm-block d-md-none m-0 d-lg-none d-xl-none header-title">back</p>
</div>
<div class="main-content-bg py-4 main-min-height">
    <div class="secondary-content-area col-md-6 col-sm-11 col-11 col-lg-6 col-xl-6 mx-auto">
        <div id="role-form" class="py-4">
            <div class="px-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <p class="question-font m-0">I am a</p>

                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" v-model="elgibilityObj.role" name="role" id="aboutYou"
                        value="child" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="aboutYou">
                        Child / Young Person
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" v-model="elgibilityObj.role" name="role" id="whom"
                        value="parent" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="whom">
                        Parent / Carer
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" v-model="elgibilityObj.role" name="role"
                        id="profession" value="professional" @change="onChange($event)">
                    <label class="form-check-label d-flex align-items-center option-font" for="profession">
                        Professional
                    </label>
                </div>
            </div>
            <div v-if="elgibilityObj.role == 'child' || elgibilityObj.role=='parent'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <p class="question-font m-0">Do you need an interpreter?</p>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" name="interpreter" id="interpreterNo"
                        v-model="elgibilityObj.interpreter" value="no" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="interpreterNo">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" name="interpreter" id="interpreterYes"
                        v-model="elgibilityObj.interpreter" value="yes" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="interpreterYes">
                        Yes
                    </label>
                </div>
            </div>

            <!-- toster-container start -->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  elgibilityObj.interpreter == 'yes'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">Please call 01874 673985 to get help completing
                            your referral</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <!-- calender start-->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') && elgibilityObj.interpreter == 'no'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <p v-if="elgibilityObj.role=='child'" class="question-font m-0">What is your date of birth?</p>
                <p v-if="elgibilityObj.role=='parent'" class="question-font m-0">What is your child’s date of birth?</p>
                <div class="input-group">
                    <input type="date"  max="2020-10-29" class="form-control" name="child" v-model="elgibilityObj.childDob"
                        @change="changeDob($event)">
                    <div class="input-group-addon">
                    </div>
                </div>
            </div>
            <!-- calendar-end -->

            <!-- Age under 14 start-->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  belowAgeLimit == 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="d-flex align-items-start">
                    <p class="question-font m-0">Can we contact your parent or carer?</p>
                    <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-3 cursor-pointer img-class"
                        data-toggle="modal" data-target="#consentModal" alt="">
                </div>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" name="belowAgeParent"
                        v-model="elgibilityObj.contactParent" id="contactNo" value="no" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="contactNo">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" name="belowAgeParent"
                        v-model="elgibilityObj.contactParent" id="contactYes" value="yes" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="contactYes">
                        Yes
                    </label>
                </div>
            </div>

            <!-- Age under 14 end-->


            <!-- toster-container start -->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  aboveLimit == 'yes'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">unfortunately we cannot accept referrals from
                            people over 25 years of age </p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <!-- toster-container start -->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  elgibilityObj.contactParent == 'no'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">Anonymous help and advice for under 14s</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->



            <!-- consent start-->
            <div v-if="elgibilityObj.camhs== 'show' || elgibilityObj.contactParent=='yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="d-flex align-items-start">
                    <p v-if="elgibilityObj.role=='child'" class="question-font m-0">Do you give consent for us to use
                        the
                        information that you provide and
                        share it
                        with other CAMHS partners so that we can help you?</p>

                    <p v-if="elgibilityObj.role=='parent'" class="question-font m-0">Do you have consent from your child
                        for
                        us to use the information that you
                        provide, and share it with other CAMHS partners so that we can help them?</p>
                    <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-3 cursor-pointer img-class" alt="">
                </div>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" name="camhsSelect"
                        v-model="elgibilityObj.isInformation" id="consentInfoNo" value="no" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="consentInfoNo">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" name="camhsSelect"
                        v-model="elgibilityObj.isInformation" id="consentInfoYes" value="yes"
                        @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="consentInfoYes">
                        Yes
                    </label>
                </div>
            </div>

            <!-- consent-ent -->

            <!-- toster-container start -->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  elgibilityObj.isInformation == 'no'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">We need your consent to continue.</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <!-- GP Location start -->
            <div v-show=" (elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  elgibilityObj.isInformation == 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="form-group">
                    <label v-if="elgibilityObj.role=='child'" for="gpLocation" class="question-font">Which GP are you
                        registered with?</label>
                    <label v-if="elgibilityObj.role=='parent'" for="gpLocation" class="question-font">Which GP is your
                        child registered with?</label>
                    <div class="input-group">
                        <input type="text" class="form-control" v-model="elgibilityObj.registerd_gp"
                            @focus="getAddress($event)" id="gpLocation" aria-label="location">
                        <div class="input-group-append">
                            <span class="input-group-text">
                                <i class="fa fa-map-marker fa-2x" aria-hidden="true"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <!--GP Location End -->

            <!-- toster-container start -->
            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  submitForm == 'true'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">Great! That’s section 1 finished: You are eligible
                            to
                            continue
                            with this
                            referral.</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <div v-if="(elgibilityObj.role == 'child' || elgibilityObj.role=='parent') &&  submitForm == 'true'"
                class="text-center py-4">
                <a>
                    <button v-on:click="save()" type="button" class="btn px-md-4 py-1 px-3"><span
                            class="btn-secondary-text">SAVE &
                            CONTINUE</span></button>
                </a>
            </div>


            <!-- Professional Info start -->
            <div v-if="elgibilityObj.role === 'professional'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="form-group">
                    <label for="fullName" class="question-font">Your full name</label>
                    <input type="text" v-model="elgibilityObj.profName" @input="onVaueChange($event,'fullName')"
                        placeholder="Jane Doe" class="form-control" id="fullName">
                    <div class="invalid-feedback d-none" v-bind:class="{ 'd-block': hasNameReqError }">
                        Please provide a name.
                    </div>
                    <div class="invalid-feedback d-none" v-bind:class="{ 'd-none': hasNameInvalidError }">
                        Please provide a valid name.
                    </div>
                </div>
                <div class="form-group">
                    <label for="emailAddress" class="question-font">Your email address - optional</label>
                    <input type="email" v-model="elgibilityObj.profEmail" @input="onVaueChange($event,'email')"
                        placeholder="JaneDoe@example.com" class="form-control" id="emailAddress">
                    <div class="invalid-feedback d-none" v-bind:class="{ 'd-block': hasEmailInvalidError }">
                        Please provide a valid email.
                    </div>
                </div>
                <div class="form-group">
                    <label for="contact" class="question-font">Enter your contact number</label>
                    <input type="text" v-model="elgibilityObj.profContactNumber" @input="onVaueChange($event,'contact')"
                        placeholder="01548 659874" class="form-control" id="contact">
                    <div class="invalid-feedback d-none" v-bind:class="{ 'd-block': hasContactReqError }">
                        Please provide a number.
                    </div>
                    <div class="invalid-feedback d-none" v-bind:class="{ 'd-block': hasContactInvalidError }">
                        Please provide a valid number.
                    </div>
                </div>
            </div>
            <!-- Professional Info End -->

            <!-- calender start-->
            <div v-if="elgibilityObj.role == 'professional'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <p class="question-font m-0">What is the child / young person’s date of birth?</p>
                <div class="input-group">
                    <input type="date" max="currentDate" class="form-control" v-model="elgibilityObj.profChildDob"
                        @change="changeDob($event)" name="prof">
                    <div class="input-group-addon">
                    </div>
                </div>
            </div>
            <!-- calendar-end -->
            <!-- Age under 14 start-->
            <div v-if="elgibilityObj.role == 'professional' &&  profBelowAgeLimit == 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="d-flex align-items-start">
                    <p class="question-font m-0">Do you have concern from the child/young person's parent/carer for us
                        to
                        use information that you provide, and share it with other CAMHS partners so that we can help
                        them?</p>
                    <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-3 cursor-pointer img-class" alt="">
                </div>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" name="" v-model="elgibilityObj.contactProfParent"
                        id="infoBelogAgeNo" value="no" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="infoBelogAgeNo">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" name="" v-model="elgibilityObj.contactProfParent"
                        id="infoBelowAgeYes" value="yes" @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="infoBelowAgeYes">
                        Yes
                    </label>
                </div>
            </div>

            <!-- Age under 14 end-->


            <!-- toster-container start -->
            <div v-if="elgibilityObj.role == 'professional' &&  profaboveLimit == 'yes'" class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">unfortunately we cannot accept referrals from
                            people over 25 years of age </p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <!-- toster-container start -->
            <div v-if="elgibilityObj.role == 'professional' &&  elgibilityObj.contactProfParent == 'no'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">Anonymous help and advice for under 14s</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <!-- consent parent start-->

            <div v-if="elgibilityObj.parentConcern== 'show' || elgibilityObj.contactProfParent== 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="d-flex align-items-start">
                    <p class="question-font m-0">Do you have consent from the child / young person’s parent / carer for
                        us
                        to use the information that you provide, and share it with other CAMHS partners so that we can
                        help them?</p>
                    <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-3 cursor-pointer" alt="">
                </div>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" id="aboutYouParentConcern"
                        v-model="elgibilityObj.parentConcernInformation" name="parentConcernSelect"
                        @change="onChange($event)" value="no">
                    <label class="form-check-label option-font d-flex align-items-center" for="aboutYouParentConcern">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" id="whomParentConcern" value="yes"
                        v-model="elgibilityObj.parentConcernInformation" name="parentConcernSelect"
                        @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="whomParentConcern">
                        Yes
                    </label>
                </div>
            </div>

            <!-- consent- parent end -->

            <!-- toster-container start -->
            <div v-if="elgibilityObj.role == 'professional'  &&  elgibilityObj.parentConcernInformation == 'no'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">We need the child / young person’s parent /
                            carer’s consent to continue.</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->


            <!-- consent child start-->

            <div v-if="elgibilityObj.role == 'professional' && elgibilityObj.parentConcernInformation == 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="d-flex align-items-start">
                    <p class="question-font m-0">Do you have consent from the child / young person for us to use the
                        information that you provide, and share it with other CAMHS partners so that we can help them?
                    </p>
                    <img src="/modules/my-apostrophe-assets/img/5.svg" class="px-3 cursor-pointer img-class" alt="">
                </div>
                <div class="form-check pt-3 pb-1 pl-0">
                    <input class="form-check-input" type="radio" id="camhsNo" value="no"
                        v-model="elgibilityObj.childConcernInformation" name="childConcernSelect"
                        @change="onChange($event)">
                    <label class="form-check-label option-font d-flex align-items-center" for="camhsNo">
                        No
                    </label>
                </div>
                <div class="form-check py-2 pl-0">
                    <input class="form-check-input" type="radio" v-model="elgibilityObj.childConcernInformation"
                        name="childConcernSelect" @change="onChange($event)" id="camhYes" value="yes">
                    <label class="form-check-label option-font d-flex align-items-center" for="camhYes">
                        Yes
                    </label>
                </div>
            </div>

            <!-- consent- child end -->

            <!-- toster-container start -->
            <div v-if="elgibilityObj.role == 'professional' &&  elgibilityObj.childConcernInformation == 'no'"
                class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">We need the child / young person’s consent to
                            continue.</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->


            <!-- GP Location start -->
            <div v-show=" elgibilityObj.role == 'professional' && elgibilityObj.childConcernInformation == 'yes'"
                class="px-4 py-4 col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto">
                <div class="form-group">
                    <label for="gpLocation" class="question-font">Which GP are you registered with?</label>
                    <div class="input-group">
                        <input type="text" class="form-control" v-model="elgibilityObj.profRegisterd_gp"
                            @focus="getProfAddress($event)" id="gpProfLocation" aria-label="location">
                        <div class="input-group-append">
                            <span class="input-group-text">
                                <i class="fa fa-map-marker fa-2x" aria-hidden="true"></i>
                            </span>
                        </div>
                    </div>
                </div>
            </div>
            <!--GP Location End -->

            <!-- toster-container start -->
            <div v-if="elgibilityObj.role === 'professional' &&  submitProfForm == 'true'" class="px-4 py-4">
                <div class="col-xl-6 col-lg-6 col-sm-12 col-12 mx-auto toster-container">
                    <div class="px-2 py-2">
                        <p class="text-center m-0 py-2">
                            <img src="/modules/my-apostrophe-assets/img/4.svg" alt="">
                        </p>
                        <p class="question-font text-center m-0 py-2">Great! That’s section 1 finished: You are eligible
                            to
                            continue
                            with this
                            referral.</p>
                    </div>
                </div>
            </div>
            <!-- toster-container start -->

            <div v-if="elgibilityObj.role === 'professional' && submitProfForm == 'true'" class="text-center py-4">
                <a>
                    <button @click="save()" type="button" class="btn px-md-4 py-1 px-3"><span
                            class="btn-secondary-text">SAVE &
                            CONTINUE</span></button>
                </a>
            </div>
        </div>
    </div>

    <!-- Modal Start -->
    <div class="modal fade" id="consentModal" tabindex="-1" role="dialog" aria-hidden="true">
        <div class="modal-dialog modal-dialog-centered" role="document">
            <div class="modal-content">
                <div class="px-2 py-4">
                    <p class="text-center m-0 cursor-pointer"><img src="/modules/my-apostrophe-assets/img/support.svg"
                            alt="logo" class="support-logo"></p>
                    <h3 class="px-4 py-2 pb-2 content-secondary-header-text text-center">
                        Consent</h3>
                    <div class="col-md-10 col-lg-8 col-xl-10 mx-auto col-sm-10 col-12">
                        <h3 class="content-text text-left py-2"> Consent is when one person agrees to or gives
                            permission to another person to do something. Consent means agreeing to an action based on
                            your knowledge of what that action involves, its likely consequences and having the option
                            of saying no. The absence of no does not mean yes. > Link to video explaining consent
                        </h3>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <!-- Modal Start -->

</div>
{% endblock %}